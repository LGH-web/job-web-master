{"remainingRequest":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\LGH\\Desktop\\job-web-master\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\src\\store\\index.js","mtime":1639545989000},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\babel.config.js","mtime":1639545989000},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1666580388672},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1666580385663},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\eslint-loader\\index.js","mtime":1666580402274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiB9IGZyb20gJ0AvYXBpL2xvZ2luJzsKaW1wb3J0IGxvY2FsIGZyb20gIi4vbG9jYWwiOwppbXBvcnQgeyBxdWVyeU1lbnVzIH0gZnJvbSAiLi4vYXBpL21lbnUiOwppbXBvcnQgeyB1c2VyUm91dGVyTWFwIH0gZnJvbSAnLi4vcm91dGVyL3VzZXJfcm91dGVyJzsKaW1wb3J0IHsgY29tcGFueVJvdXRlck1hcCB9IGZyb20gJy4uL3JvdXRlci9jb21wYW55X3JvdXRlcic7CmltcG9ydCB7IHN0dWRlbnRSb3V0ZXJNYXAgfSBmcm9tICcuLi9yb3V0ZXIvc3R1ZGVudF9yb3V0ZXInOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAiLi4vcm91dGVyIjsKVnVlLnVzZShWdWV4KTsKdmFyIGluZGV4ID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogbnVsbCwKICAgIHVzZXJJbmZvOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7fSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIFNFVF9VU0VSSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJJTkZPKHN0YXRlLCB1c2VySW5mbykgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGxvZ2luVXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX2xvZ2luKGxvZ2luVXNlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvL+WmguaenHJlc+WtmOWcqOeahOaXtuWAmQogICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAvL+WwhnRva2Vu5ZKM55So5oi35pWw5o2u5a2Y5YKo5Yiwc3RvcmUKICAgICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXMuZGF0YS50b2tlbik7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1VTRVJJTkZPJywgcmVzLmRhdGEpOyAvL+WwhnRva2Vu5ZKM55So5oi35pWw5o2u5a2Y5YWlbG9jYWxTdG9yYWdl5LitCgogICAgICAgICAgICBsb2NhbC5zZXRUb2tlbihyZXMuZGF0YS50b2tlbik7CiAgICAgICAgICAgIGxvY2FsLnNldFVzZXJJbmZvKHJlcy5kYXRhKTsKICAgICAgICAgICAgcmVzZXRSb3V0ZXIoKTsKCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS50eXBlID09IDApIHsKICAgICAgICAgICAgICByb3V0ZXIuYWRkUm91dGVzKHVzZXJSb3V0ZXJNYXApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmVzLmRhdGEudHlwZSA9PSAxKSB7CiAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhjb21wYW55Um91dGVyTWFwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnR5cGUgPT0gMikgewogICAgICAgICAgICAgIHJvdXRlci5hZGRSb3V0ZXMoc3R1ZGVudFJvdXRlck1hcCk7CiAgICAgICAgICAgIH0gLy/miJDlip/lk43lupQKCgogICAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRNZW51czogZnVuY3Rpb24gZ2V0TWVudXMoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBxdWVyeU1lbnVzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IGluZGV4Ow=="},{"version":3,"sources":["C:/Users/LGH/Desktop/job-web-master/src/store/index.js"],"names":["Vue","Vuex","login","local","queryMenus","userRouterMap","companyRouterMap","studentRouterMap","router","resetRouter","use","index","Store","state","token","userInfo","getters","mutations","SET_TOKEN","SET_USERINFO","actions","loginUser","commit","Promise","resolve","reject","then","res","data","setToken","setUserInfo","type","addRoutes","catch","error","getMenus"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAAQC,KAAK,IAALA,MAAR,QAAoB,aAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,SAAQC,aAAR,QAA4B,uBAA5B;AACA,SAAQC,gBAAR,QAA+B,0BAA/B;AACA,SAAQC,gBAAR,QAA+B,0BAA/B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAAQC,WAAR,QAA0B,WAA1B;AAEAT,GAAG,CAACU,GAAJ,CAAQT,IAAR;AAEA,IAAMU,KAAK,GAAG,IAAIV,IAAI,CAACW,KAAT,CAAe;AACzBC,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE,IADJ;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GADkB;AAKzBC,EAAAA,OAAO,EAAE,EALgB;AAMzBC,EAAAA,SAAS,EAAE;AACPC,IAAAA,SAAS,EAAE,mBAACL,KAAD,EAAQC,KAAR,EAAkB;AACzBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACH,KAHM;AAIPK,IAAAA,YAAY,EAAE,sBAACN,KAAD,EAAQE,QAAR,EAAqB;AAC/BF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACH;AANM,GANc;AAczBK,EAAAA,OAAO,EAAE;AACLlB,IAAAA,KADK,uBACWmB,SADX,EACsB;AAAA,UAApBC,MAAoB,QAApBA,MAAoB;AACvB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCvB,QAAAA,MAAK,CAACmB,SAAD,CAAL,CAAiBK,IAAjB,CAAsB,UAAAC,GAAG,EAAI;AACzB;AACA,cAAIA,GAAJ,EAAS;AACL;AACAL,YAAAA,MAAM,CAAC,WAAD,EAAcK,GAAG,CAACC,IAAJ,CAASd,KAAvB,CAAN;AACAQ,YAAAA,MAAM,CAAC,cAAD,EAAiBK,GAAG,CAACC,IAArB,CAAN,CAHK,CAIL;;AACAzB,YAAAA,KAAK,CAAC0B,QAAN,CAAeF,GAAG,CAACC,IAAJ,CAASd,KAAxB;AACAX,YAAAA,KAAK,CAAC2B,WAAN,CAAkBH,GAAG,CAACC,IAAtB;AACAnB,YAAAA,WAAW;;AACX,gBAAGkB,GAAG,CAACC,IAAJ,CAASG,IAAT,IAAiB,CAApB,EAAuB;AACnBvB,cAAAA,MAAM,CAACwB,SAAP,CAAiB3B,aAAjB;AACH;;AACD,gBAAGsB,GAAG,CAACC,IAAJ,CAASG,IAAT,IAAiB,CAApB,EAAuB;AACnBvB,cAAAA,MAAM,CAACwB,SAAP,CAAiB1B,gBAAjB;AACH;;AACD,gBAAGqB,GAAG,CAACC,IAAJ,CAASG,IAAT,IAAiB,CAApB,EAAuB;AACnBvB,cAAAA,MAAM,CAACwB,SAAP,CAAiBzB,gBAAjB;AACH,aAhBI,CAiBL;;;AACAiB,YAAAA,OAAO,CAACG,GAAD,CAAP;AACH;AACJ,SAtBD,EAsBGM,KAtBH,CAsBS,UAAAC,KAAK,EAAI;AACdT,UAAAA,MAAM,CAACS,KAAD,CAAN;AACH,SAxBD;AAyBH,OA1BM,CAAP;AA2BH,KA7BI;AA8BLC,IAAAA,QA9BK,2BA8Bc;AAAA,UAATb,MAAS,SAATA,MAAS;AACf,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCrB,QAAAA,UAAU,GAAGsB,IAAb,CAAkB,UAAAC,GAAG,EAAI;AACrBH,UAAAA,OAAO,CAACG,GAAD,CAAP;AACH,SAFD;AAGH,OAJM,CAAP;AAKH;AApCI;AAdgB,CAAf,CAAd;AAsDA,eAAehB,KAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {login} from '@/api/login'\nimport local from \"./local\";\nimport {queryMenus} from \"../api/menu\";\nimport {userRouterMap} from '../router/user_router'\nimport {companyRouterMap} from '../router/company_router'\nimport {studentRouterMap} from '../router/student_router'\nimport router from \"../router\";\nimport {resetRouter} from \"../router\";\n\nVue.use(Vuex)\n\nconst index = new Vuex.Store({\n    state: {\n        token: null,\n        userInfo: null\n    },\n    getters: {},\n    mutations: {\n        SET_TOKEN: (state, token) => {\n            state.token = token;\n        },\n        SET_USERINFO: (state, userInfo) => {\n            state.userInfo = userInfo\n        }\n    },\n    actions: {\n        login({commit}, loginUser) {\n            return new Promise((resolve, reject) => {\n                login(loginUser).then(res => {\n                    //如果res存在的时候\n                    if (res) {\n                        //将token和用户数据存储到store\n                        commit('SET_TOKEN', res.data.token);\n                        commit('SET_USERINFO', res.data);\n                        //将token和用户数据存入localStorage中\n                        local.setToken(res.data.token);\n                        local.setUserInfo(res.data);\n                        resetRouter();\n                        if(res.data.type == 0) {\n                            router.addRoutes(userRouterMap);\n                        }\n                        if(res.data.type == 1) {\n                            router.addRoutes(companyRouterMap);\n                        }\n                        if(res.data.type == 2) {\n                            router.addRoutes(studentRouterMap);\n                        }\n                        //成功响应\n                        resolve(res);\n                    }\n                }).catch(error => {\n                    reject(error);\n                })\n            })\n        },\n        getMenus({commit}) {\n            return new Promise((resolve, reject) => {\n                queryMenus().then(res => {\n                    resolve(res);\n                })\n            })\n        }\n    }\n})\n\nexport default index"]}]}