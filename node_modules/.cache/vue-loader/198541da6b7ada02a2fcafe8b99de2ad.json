{"remainingRequest":"G:\\IdeaFile\\job-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\IdeaFile\\job-web-master\\src\\views\\company\\CompanyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\IdeaFile\\job-web-master\\src\\views\\company\\CompanyInfo.vue","mtime":1625662218000},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1666580385663},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1666580381795}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7dXBkYXRlfSBmcm9tICJAL2FwaS9jb21wYW55IjsKaW1wb3J0IFJGb3JtIGZyb20gIkAvY29tcG9uZW50cy9SRm9ybSI7CmltcG9ydCB7Y29tcGFueUluZm99IGZyb20gIkAvYXBpL2NvbXBhbnkiOwppbXBvcnQge2RpY3RfcXVlcnl9IGZyb20gIkAvYXBpL2RpY3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQ29tcGFueUluZm8iLAogICAgY29tcG9uZW50czoge1JGb3JtfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGZvcm06ewogICAgICAgICAgICAgIGlkOicnLAogICAgICAgICAgICAgIG5hbWU6JycsCiAgICAgICAgICAgICAgYWNjb3VudDonJywKICAgICAgICAgICAgICBwYXNzd29yZDonJywKICAgICAgICAgICAgICB0eXBlOicnLAogICAgICAgICAgICAgIGNvbnRhY3Q6JycsCiAgICAgICAgICAgICAgdGVsZXBob25lOicnLAogICAgICAgICAgICAgIGVtYWlsOicnLAogICAgICAgICAgICAgIGFkZHI6ICcnLAogICAgICAgICAgICAgIHNpemU6JycsCiAgICAgICAgICAgICAgbG9nbzonJywKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjonJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZXM6ewogICAgICAgICAgICAgIG5hbWU6W3tyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+Wnk+WQjeS4jeiDveS4uuepuid9XSwKICAgICAgICAgICAgICBhY2NvdW50Olt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifotKblj7flkI3np7DkuI3og73kuLrnqbonfV0sCiAgICAgICAgICAgICAgcGFzc3dvcmQ6W3tyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+i0puWPt+WvhueggeS4jeiDveS4uuepuid9XSwKICAgICAgICAgICAgICB0eXBlOlt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifljZXkvY3nsbvlnovkuI3og73kuLrnqbonfV0sCiAgICAgICAgICAgICAgY29udGFjdDpbe3JlcXVpcmVkOnRydWUsbWVzc2FnZTon5Y2V5L2N6IGU57O75Lq65LiN6IO95Li656m6J31dLAogICAgICAgICAgICAgIHRlbGVwaG9uZTpbe3JlcXVpcmVkOnRydWUsbWVzc2FnZTon5Y2V5L2N6IGU57O755S16K+d5Y+356CB5LiN6IO95Li656m6J31dLAogICAgICAgICAgICAgIGVtYWlsOlt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifljZXkvY3pgq7nrrHkuI3og73kuLrnqbonfV0sCiAgICAgICAgICAgICAgYWRkcjpbe3JlcXVpcmVkOnRydWUsbWVzc2FnZTon5Y2V5L2N5Zyw5Z2A5LiN6IO95Li656m6J31dLAogICAgICAgICAgICAgIHNpemU6W3tyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+WNleS9jeinhOaooeS4jeiDveS4uuepuid9XSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXRlbXM6WwogICAgICAgICAgICAgICAge3R5cGU6J3RleHQnLGxhYmVsOiflkI3np7AnLHByb3A6J25hbWUnLG5hbWU6J25hbWUnLHBsYWNlaG9sZGVyOifor7fovpPlhaXlkI3np7AnfSwKICAgICAgICAgICAgICAgIHt0eXBlOid0ZXh0JyxsYWJlbDon6IGU57O75Lq6Jyxwcm9wOidjb250YWN0JyxuYW1lOidjb250YWN0JyxwbGFjZWhvbGRlcjon6IGU57O75Lq6Jywgb3B0aW9uczpbXX0sCiAgICAgICAgICAgICAgICB7dHlwZTondGV4dCcsbGFiZWw6J+iBlOezu+eUteivnScscHJvcDondGVsZXBob25lJyxuYW1lOid0ZWxlcGhvbmUnLHBsYWNlaG9sZGVyOifogZTns7vnlLXor50nfSwKICAgICAgICAgICAgICAgIHt0eXBlOid0ZXh0JyxsYWJlbDon6YKu566xJyxwcm9wOidlbWFpbCcsbmFtZTonZW1haWwnLHBsYWNlaG9sZGVyOifpgq7nrrEnfSwKICAgICAgICAgICAgICAgIHt0eXBlOid0ZXh0JyxsYWJlbDon5Zyw5Z2AJyxwcm9wOidhZGRyJyxuYW1lOidhZGRyJyxwbGFjZWhvbGRlcjon5Zyw5Z2AJ30sCiAgICAgICAgICAgICAgICB7dHlwZTondGV4dCcsbGFiZWw6J+WklumTvicscHJvcDondXJsJyxuYW1lOid1cmwnLHBsYWNlaG9sZGVyOiflpJbpk74nfSwKICAgICAgICAgICAgICAgIHt0eXBlOid0ZXh0JyxsYWJlbDon572R5Z2AJyxwcm9wOid1cmwnLG5hbWU6J3VybCcscGxhY2Vob2xkZXI6J+e9keWdgCd9LAogICAgICAgICAgICAgICAge3R5cGU6J3NlbGVjdCcsbGFiZWw6J+inhOaooScscHJvcDonc2l6ZScsbmFtZTonc2l6ZScscGxhY2Vob2xkZXI6J+inhOaooScsb3B0aW9uczpbXX0sCiAgICAgICAgICAgICAgICB7dHlwZTonc2VsZWN0JyxsYWJlbDon5YWs5Y+457G75Z6LJyxwcm9wOid0eXBlJyxuYW1lOid0eXBlJyxwbGFjZWhvbGRlcjon5YWs5Y+457G75Z6LJyxvcHRpb25zOltdfSwKICAgICAgICAgICAgICAgIHt0eXBlOidmaWxlJyxsYWJlbDonTG9nbycscHJvcDonbG9nbycsbmFtZTonbG9nbycscGxhY2Vob2xkZXI6J0xvZ28nfSwKICAgICAgICAgICAgICAgIHt0eXBlOidhcmVhJyxsYWJlbDon5YWs5Y+45o+P6L+wJyxwcm9wOidkZXNjcmlwdGlvbicsbmFtZTonZGVzY3JpcHRpb24nLHBsYWNlaG9sZGVyOiflhoXlrrkuLi4nfSwKICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0SW5mbygpOwogICAgICAgIHRoaXMuZ2V0RGljdExpc3QxKDQpOwogICAgICAgIHRoaXMuZ2V0RGljdExpc3QyKDUpOwogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGdldERpY3RMaXN0MSh0eXBlSWQpewogICAgICAgICAgICBkaWN0X3F1ZXJ5KHt0eXBlSWQ6dHlwZUlkfSkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbT0+ewogICAgICAgICAgICAgICAgICAgIGxldCBwID0ge3ZhbHVlOml0ZW0uZGljdEtleSxsYWJlbDppdGVtLmRpY3RWYWx9OwogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbT0+ewogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0udHlwZT09J3NlbGVjdCcgJiYgaXRlbS5uYW1lID09ICd0eXBlJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub3B0aW9ucz0gYXJyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXREaWN0TGlzdDIodHlwZUlkKXsKICAgICAgICAgICAgZGljdF9xdWVyeSh7dHlwZUlkOnR5cGVJZH0pLnRoZW4ocmVzPT57CiAgICAgICAgICAgICAgICBsZXQgYXJyID0gW107CiAgICAgICAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW09PnsKICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHt2YWx1ZTppdGVtLmRpY3RLZXksbGFiZWw6aXRlbS5kaWN0VmFsfTsKICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW09PnsKICAgICAgICAgICAgICAgICAgICBpZihpdGVtLnR5cGU9PSdzZWxlY3QnICYmIGl0ZW0ubmFtZSA9PSAnc2l6ZScpewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9wdGlvbnM9IGFycjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIGdldEluZm8oKXsKICAgICAgICAgICAgY29tcGFueUluZm8oKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzYXZlKCl7CiAgICAgICAgICAgIGxldCBmbGFnID0gdGhpcy4kcmVmc1snbXlGb3JtJ10udmFsaWRhdGVGb3JtKCk7CiAgICAgICAgICAgIGlmKGZsYWcpewogICAgICAgICAgICAgICAgbGV0IHBhcmFtID0gdGhpcy5mb3JtOwogICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtLnNpbmdsZSl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc2luZ2xlID0nWSc7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBwYXJhbS5zaW5nbGUgPSdOJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVwZGF0ZShwYXJhbSkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW0uY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cgp9Cg=="},{"version":3,"sources":["CompanyInfo.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"CompanyInfo.vue","sourceRoot":"src/views/company","sourcesContent":["<template>\n    <div>\n        <r-form ref=\"myForm\" :rules=\"rules\" :form=\"form\" :items=\"items\" :save=\"save\"></r-form>\n    </div>\n</template>\n\n<script>\n    import {update} from \"@/api/company\";\n    import RForm from \"@/components/RForm\";\n    import {companyInfo} from \"@/api/company\";\n    import {dict_query} from \"@/api/dict\";\n    export default {\n        name: \"CompanyInfo\",\n        components: {RForm},\n        data(){\n            return{\n                form:{\n                  id:'',\n                  name:'',\n                  account:'',\n                  password:'',\n                  type:'',\n                  contact:'',\n                  telephone:'',\n                  email:'',\n                  addr: '',\n                  size:'',\n                  logo:'',\n                  description:'',\n                },\n                rules:{\n                  name:[{required:true,message:'姓名不能为空'}],\n                  account:[{required:true,message:'账号名称不能为空'}],\n                  password:[{required:true,message:'账号密码不能为空'}],\n                  type:[{required:true,message:'单位类型不能为空'}],\n                  contact:[{required:true,message:'单位联系人不能为空'}],\n                  telephone:[{required:true,message:'单位联系电话号码不能为空'}],\n                  email:[{required:true,message:'单位邮箱不能为空'}],\n                  addr:[{required:true,message:'单位地址不能为空'}],\n                  size:[{required:true,message:'单位规模不能为空'}],\n                },\n                items:[\n                    {type:'text',label:'名称',prop:'name',name:'name',placeholder:'请输入名称'},\n                    {type:'text',label:'联系人',prop:'contact',name:'contact',placeholder:'联系人', options:[]},\n                    {type:'text',label:'联系电话',prop:'telephone',name:'telephone',placeholder:'联系电话'},\n                    {type:'text',label:'邮箱',prop:'email',name:'email',placeholder:'邮箱'},\n                    {type:'text',label:'地址',prop:'addr',name:'addr',placeholder:'地址'},\n                    {type:'text',label:'外链',prop:'url',name:'url',placeholder:'外链'},\n                    {type:'text',label:'网址',prop:'url',name:'url',placeholder:'网址'},\n                    {type:'select',label:'规模',prop:'size',name:'size',placeholder:'规模',options:[]},\n                    {type:'select',label:'公司类型',prop:'type',name:'type',placeholder:'公司类型',options:[]},\n                    {type:'file',label:'Logo',prop:'logo',name:'logo',placeholder:'Logo'},\n                    {type:'area',label:'公司描述',prop:'description',name:'description',placeholder:'内容...'},\n                ]\n            }\n        },\n        mounted() {\n            this.getInfo();\n            this.getDictList1(4);\n            this.getDictList2(5);\n        },\n        methods:{\n            getDictList1(typeId){\n                dict_query({typeId:typeId}).then(res=>{\n                    let arr = [];\n                    res.data.forEach(item=>{\n                        let p = {value:item.dictKey,label:item.dictVal};\n                        arr.push(p);\n                    });\n                    this.items.forEach(item=>{\n                        if(item.type=='select' && item.name == 'type'){\n                            item.options= arr;\n                        }\n                    })\n                })\n            },\n            getDictList2(typeId){\n                dict_query({typeId:typeId}).then(res=>{\n                    let arr = [];\n                    res.data.forEach(item=>{\n                        let p = {value:item.dictKey,label:item.dictVal};\n                        arr.push(p);\n                    });\n                    this.items.forEach(item=>{\n                        if(item.type=='select' && item.name == 'size'){\n                            item.options= arr;\n                        }\n                    })\n                })\n            },\n\n            getInfo(){\n                companyInfo().then(res=>{\n                    this.form = res.data;\n                    console.log(this.form)\n                })\n            },\n            save(){\n                let flag = this.$refs['myForm'].validateForm();\n                if(flag){\n                    let param = this.form;\n                    if(this.form.single){\n                        param.single ='Y';\n                    }else{\n                        param.single ='N';\n                    }\n                    update(param).then(res=>{\n                        this.$message.success(res.msg);\n                        this.param.close();\n                        this.param.callback();\n                    })\n                }\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}