{"remainingRequest":"G:\\IdeaFile\\job-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\IdeaFile\\job-web-master\\src\\views\\company\\CompanyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\IdeaFile\\job-web-master\\src\\views\\company\\CompanyInfo.vue","mtime":1639545989000},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1666580385663},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"G:\\IdeaFile\\job-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1666580381795}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7dXBkYXRlfSBmcm9tICJAL2FwaS9jb21wYW55IjsKaW1wb3J0IFJGb3JtIGZyb20gIkAvY29tcG9uZW50cy9SRm9ybSI7CmltcG9ydCB7Y29tcGFueUluZm99IGZyb20gIkAvYXBpL2NvbXBhbnkiOwppbXBvcnQge2RpY3RfcXVlcnl9IGZyb20gIkAvYXBpL2RpY3QiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkNvbXBhbnlJbmZvIiwKICAgIGNvbXBvbmVudHM6IHtSRm9ybX0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgY29udGFjdDogJycsCiAgICAgICAgICAgICAgICB0ZWxlcGhvbmU6ICcnLAogICAgICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICAgICAgYWRkcjogJycsCiAgICAgICAgICAgICAgICB1cmw6ICcnLAogICAgICAgICAgICAgICAgc2l6ZTogJycsCiAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgIGxvZ286ICcnLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgbmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+W/heWhq+mhueS4jeiDveS4uuepuid9XQogICAgICAgICAgICB9LAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgICAge3R5cGU6ICd0ZXh0JywgbGFiZWw6ICflkI3np7AnLCBwcm9wOiAnbmFtZScsIG5hbWU6ICduYW1lJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXlkI3np7AnfSwKICAgICAgICAgICAgICAgIHt0eXBlOiAndGV4dCcsIGxhYmVsOiAn6IGU57O75Lq6JywgcHJvcDogJ2NvbnRhY3QnLCBuYW1lOiAnY29udGFjdCcsIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oup6IGU57O75Lq6Jywgb3B0aW9uczogW119LAogICAgICAgICAgICAgICAge3R5cGU6ICd0ZXh0JywgbGFiZWw6ICfogZTns7vnlLXor50nLCBwcm9wOiAndGVsZXBob25lJywgbmFtZTogJ3RlbGVwaG9uZScsIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl6IGU57O755S16K+dJ30sCiAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+mCrueusScsIHByb3A6ICdlbWFpbCcsIG5hbWU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl6YKu566xJ30sCiAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+WcsOWdgCcsIHByb3A6ICdhZGRyJywgbmFtZTogJ2FkZHInLCBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeWcsOWdgCd9LAogICAgICAgICAgICAgICAge3R5cGU6ICd0ZXh0JywgbGFiZWw6ICflpJbpk74nLCBwcm9wOiAndXJsJywgbmFtZTogJ3VybCcsIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5aSW6ZO+J30sCiAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+e9keWdgCcsIHByb3A6ICd1cmwnLCBuYW1lOiAndXJsJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXnvZHlnYAnfSwKICAgICAgICAgICAgICAgIHt0eXBlOiAnc2VsZWN0JywgbGFiZWw6ICfop4TmqKEnLCBwcm9wOiAnc2l6ZScsIG5hbWU6ICdzaXplJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXop4TmqKEnLCBvcHRpb25zOiBbXX0sCiAgICAgICAgICAgICAgICB7dHlwZTogJ3NlbGVjdCcsIGxhYmVsOiAn5YWs5Y+457G75Z6LJywgcHJvcDogJ3R5cGUnLCBuYW1lOiAndHlwZScsIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oup5YWs5Y+457G75Z6LJywgb3B0aW9uczogW119LAogICAgICAgICAgICAgICAge3R5cGU6ICdmaWxlJywgbGFiZWw6ICdMb2dvJywgcHJvcDogJ2xvZ28nLCBuYW1lOiAnbG9nbycsIHBsYWNlaG9sZGVyOiAnTG9nbyd9LAogICAgICAgICAgICAgICAge3R5cGU6ICdhcmVhJywgbGFiZWw6ICflhazlj7jmj4/ov7AnLCBwcm9wOiAnZGVzY3JpcHRpb24nLCBuYW1lOiAnZGVzY3JpcHRpb24nLCBwbGFjZWhvbGRlcjogJ+ivt+W9leWFpeWGheWuuSd9LAogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRJbmZvKCk7CiAgICAgICAgdGhpcy5nZXREaWN0TGlzdDEoNCk7CiAgICAgICAgdGhpcy5nZXREaWN0TGlzdDIoNSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldERpY3RMaXN0MSh0eXBlSWQpIHsKICAgICAgICAgICAgZGljdF9xdWVyeSh7dHlwZUlkOiB0eXBlSWR9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgYXJyID0gW107CiAgICAgICAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwID0ge3ZhbHVlOiBpdGVtLmRpY3RLZXksIGxhYmVsOiBpdGVtLmRpY3RWYWx9OwogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSAnc2VsZWN0JyAmJiBpdGVtLm5hbWUgPT0gJ3R5cGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub3B0aW9ucyA9IGFycjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2V0RGljdExpc3QyKHR5cGVJZCkgewogICAgICAgICAgICBkaWN0X3F1ZXJ5KHt0eXBlSWQ6IHR5cGVJZH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSB7dmFsdWU6IGl0ZW0uZGljdEtleSwgbGFiZWw6IGl0ZW0uZGljdFZhbH07CiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2gocCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09ICdzZWxlY3QnICYmIGl0ZW0ubmFtZSA9PSAnc2l6ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcHRpb25zID0gYXJyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRJbmZvKCkgewogICAgICAgICAgICBjb21wYW55SW5mbygpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgbGV0IGZsYWcgPSB0aGlzLiRyZWZzWydteUZvcm0nXS52YWxpZGF0ZUZvcm0oKTsKICAgICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgICAgIGxldCBwYXJhbSA9IHRoaXMuZm9ybTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uc2luZ2xlKSB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc2luZ2xlID0gJ1knOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwYXJhbS5zaW5nbGUgPSAnTic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB1cGRhdGUocGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW0uY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cgp9Cg=="},{"version":3,"sources":["CompanyInfo.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"CompanyInfo.vue","sourceRoot":"src/views/company","sourcesContent":["<template>\n    <div>\n        <r-form ref=\"myForm\" :rules=\"rules\" :form=\"form\" :items=\"items\" :save=\"save\"></r-form>\n    </div>\n</template>\n\n<script>\n    import {update} from \"@/api/company\";\n    import RForm from \"@/components/RForm\";\n    import {companyInfo} from \"@/api/company\";\n    import {dict_query} from \"@/api/dict\";\n\n    export default {\n        name: \"CompanyInfo\",\n        components: {RForm},\n        data() {\n            return {\n                form: {\n                    id: '',\n                    name: '',\n                    contact: '',\n                    telephone: '',\n                    email: '',\n                    addr: '',\n                    url: '',\n                    size: '',\n                    type: '',\n                    logo: '',\n                    description: '',\n                },\n                rules: {\n                    name: [{required: true, message: '必填项不能为空'}]\n                },\n                items: [\n                    {type: 'text', label: '名称', prop: 'name', name: 'name', placeholder: '请输入名称'},\n                    {type: 'text', label: '联系人', prop: 'contact', name: 'contact', placeholder: '请选择联系人', options: []},\n                    {type: 'text', label: '联系电话', prop: 'telephone', name: 'telephone', placeholder: '请输入联系电话'},\n                    {type: 'text', label: '邮箱', prop: 'email', name: 'email', placeholder: '请输入邮箱'},\n                    {type: 'text', label: '地址', prop: 'addr', name: 'addr', placeholder: '请输入地址'},\n                    {type: 'text', label: '外链', prop: 'url', name: 'url', placeholder: '请输入外链'},\n                    {type: 'text', label: '网址', prop: 'url', name: 'url', placeholder: '请输入网址'},\n                    {type: 'select', label: '规模', prop: 'size', name: 'size', placeholder: '请输入规模', options: []},\n                    {type: 'select', label: '公司类型', prop: 'type', name: 'type', placeholder: '请选择公司类型', options: []},\n                    {type: 'file', label: 'Logo', prop: 'logo', name: 'logo', placeholder: 'Logo'},\n                    {type: 'area', label: '公司描述', prop: 'description', name: 'description', placeholder: '请录入内容'},\n                ]\n            }\n        },\n        mounted() {\n            this.getInfo();\n            this.getDictList1(4);\n            this.getDictList2(5);\n        },\n        methods: {\n            getDictList1(typeId) {\n                dict_query({typeId: typeId}).then(res => {\n                    let arr = [];\n                    res.data.forEach(item => {\n                        let p = {value: item.dictKey, label: item.dictVal};\n                        arr.push(p);\n                    });\n                    this.items.forEach(item => {\n                        if (item.type == 'select' && item.name == 'type') {\n                            item.options = arr;\n                        }\n                    })\n                })\n            },\n            getDictList2(typeId) {\n                dict_query({typeId: typeId}).then(res => {\n                    let arr = [];\n                    res.data.forEach(item => {\n                        let p = {value: item.dictKey, label: item.dictVal};\n                        arr.push(p);\n                    });\n                    this.items.forEach(item => {\n                        if (item.type == 'select' && item.name == 'size') {\n                            item.options = arr;\n                        }\n                    })\n                })\n            },\n            getInfo() {\n                companyInfo().then(res => {\n                    this.form = res.data;\n                    console.log(this.form)\n                })\n            },\n            save() {\n                let flag = this.$refs['myForm'].validateForm();\n                if (flag) {\n                    let param = this.form;\n                    if (this.form.single) {\n                        param.single = 'Y';\n                    } else {\n                        param.single = 'N';\n                    }\n                    update(param).then(res => {\n                        this.$message.success(res.msg);\n                        this.param.close();\n                        this.param.callback();\n                    })\n                }\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}