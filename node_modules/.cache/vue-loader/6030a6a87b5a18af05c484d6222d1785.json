{"remainingRequest":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\LGH\\Desktop\\job-web-master\\src\\components\\RForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\src\\components\\RForm.vue","mtime":1639545989000},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1666580385663},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666580404783},{"path":"C:\\Users\\LGH\\Desktop\\job-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1666580381795}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB0aGUgY29tcG9uZW50CmltcG9ydCBUcmVlc2VsZWN0IGZyb20gJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0JwovLyBpbXBvcnQgdGhlIHN0eWxlcwppbXBvcnQgJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzJwoKaW1wb3J0IHt1cGxvYWR9IGZyb20gIi4uL2FwaS91cGxvYWQiOwoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCmltcG9ydCBtYXZvbkVkaXRvciBmcm9tICdtYXZvbi1lZGl0b3InCmltcG9ydCAnbWF2b24tZWRpdG9yL2Rpc3QvY3NzL2luZGV4LmNzcycKLy8gdXNlClZ1ZS51c2UobWF2b25FZGl0b3IpCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUkZvcm0iLAogICAgY29tcG9uZW50czoge1RyZWVzZWxlY3R9LAogICAgcHJvcHM6IHsKICAgICAgICBydWxlczogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZm9ybTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZTogewogICAgICAgICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpdGVtczogewogICAgICAgICAgICB0eXBlOiBBcnJheSwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdXBsb2FkVXJsOiAnJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgdmFsaWRhdGVGb3JtKCkgewogICAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiBmbGFnOwogICAgICAgIH0sCiAgICAgICAgcmVzZXRGaWVsZCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICAgICAgfSwKICAgICAgICB1cGxvYWRJbWcocGFyYW0pIHsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgcGFyYW0uZmlsZSk7CiAgICAgICAgICAgIC8v6LCD55So5paH5Lu25LiK5LygCiAgICAgICAgICAgIHVwbG9hZChmb3JtRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5mb3JtW3BhcmFtLmRhdGEubmFtZV0gPSByZXMuZGF0YTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5LiK5Lyg5Zu+54mH5LmL5YmN55qE6aqM6K+BCiAgICAgICAgYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgICAgICAgY29uc3QgaXNJTUFHRSA9IChmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJykgfHwgKGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZycpIHx8IChmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnKTsKICAgICAgICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICAgICAgICBpZiAoIWlzSU1BR0UpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcvSlBFRy9QTkcg5qC85byPIScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBpc0lNQUdFICYmIGlzTHQyTTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["RForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n\n            <template v-for=\"(item,index) in items\">\n                <el-row :key=\"index\">\n                    <el-col :span=\"24\">\n                        <template v-if=\"['text','password','number','email'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <el-input :type=\"item.type\" v-model=\"form[item.name]\"\n                                          :placeholder=\"item.placeholder\"></el-input>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['select'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <el-select v-model=\"form[item.name]\" :placeholder=\"item.placeholder\">\n                                    <el-option\n                                            v-for=\"item in item.options\"\n                                            :key=\"item.value\"\n                                            :label=\"item.label\"\n                                            :value=\"item.value\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['treeselect'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <treeselect v-model=\"form[item.name]\" :placeholder=\"item.placeholder\"\n                                            :options=\"item.options\"/>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['switch'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <el-switch v-model=\"form[item.name]\" active-color=\"#13ce66\"></el-switch>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['area'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <mavon-editor v-model=\"form[item.name]\"/>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['date'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <el-date-picker\n                                        v-model=\"form[item.name]\"\n                                        type=\"date\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"选择日期时间\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </template>\n\n                        <template v-if=\"['file'].indexOf(item.type) != -1\">\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\n                                <el-upload\n                                        class=\"upload-demo\"\n                                        action=\"string\"\n                                        :data=\"{name:item.name}\"\n                                        :http-request=\"uploadImg\"\n                                        :before-upload=\"beforeUpload\"\n                                        :limit=\"1\">\n                                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/jpeg/png文件，且不超过2M</div>\n                                </el-upload>\n                            </el-form-item>\n                        </template>\n                    </el-col>\n                </el-row>\n            </template>\n            <el-row>\n                <el-form-item>\n                    <el-button size=\"small\" icon=\"el-icon-refresh-right\" @click=\"resetField\" type=\"primary\">重置\n                    </el-button>\n                    <el-button size=\"small\" icon=\"el-icon-s-claim\" @click=\"save\" type=\"primary\">保存</el-button>\n                </el-form-item>\n            </el-row>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    // import the component\n    import Treeselect from '@riophae/vue-treeselect'\n    // import the styles\n    import '@riophae/vue-treeselect/dist/vue-treeselect.css'\n\n    import {upload} from \"../api/upload\";\n\n    import Vue from 'vue'\n    import mavonEditor from 'mavon-editor'\n    import 'mavon-editor/dist/css/index.css'\n    // use\n    Vue.use(mavonEditor)\n\n    export default {\n        name: \"RForm\",\n        components: {Treeselect},\n        props: {\n            rules: {\n                type: Object,\n                default: () => {\n                }\n            },\n            form: {\n                type: Object,\n                default: () => {\n                }\n            },\n            save: {\n                type: Function,\n                default: () => {\n                }\n            },\n            items: {\n                type: Array,\n                default: () => {\n                }\n            }\n        },\n        data() {\n            return {\n                uploadUrl: ''\n            }\n        },\n        methods: {\n            validateForm() {\n                let flag = false;\n                this.$refs['form'].validate(valid => {\n                    if (valid) {\n                        flag = true;\n                    }\n                })\n                return flag;\n            },\n            resetField() {\n                this.$refs['form'].resetFields();\n            },\n            uploadImg(param) {\n                const formData = new FormData();\n                formData.append(\"file\", param.file);\n                //调用文件上传\n                upload(formData).then(res => {\n                    this.form[param.data.name] = res.data;\n                })\n            },\n            //上传图片之前的验证\n            beforeUpload(file) {\n                const isIMAGE = (file.type === 'image/jpeg') || (file.type === 'image/jpg') || (file.type === 'image/png');\n                const isLt2M = file.size / 1024 / 1024 < 2;\n                if (!isIMAGE) {\n                    this.$message.error('上传头像图片只能是 JPG/JPEG/PNG 格式!');\n                }\n                if (!isLt2M) {\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\n                }\n                return isIMAGE && isLt2M;\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}